<!doctype html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, viewport-fit=cover"
    />
    <title>Paper Cut Snake ‚Äî GPU Edition</title>
    <link rel="stylesheet" href="./style.css" />
  </head>
  <body>
    <div class="game-page">
      <canvas id="gameCanvas"></canvas>

      <!-- HUD bar ‚Äî always visible -->
      <div class="hud">
        <div class="hud-stats">
          <div class="hud-stat">
            <span class="hud-label">–°—á—ë—Ç</span>
            <span class="hud-value" id="scoreValue">0</span>
          </div>
          <div class="hud-stat">
            <span class="hud-label">–õ—É—á—à–∏–π</span>
            <span class="hud-value" id="bestValue">0</span>
          </div>
          <div class="hud-stat">
            <span class="hud-label">–°–∫–æ—Ä–æ—Å—Ç—å</span>
            <span class="hud-value" id="speedValue">7x</span>
          </div>
        </div>
        <div class="hud-actions">
          <button class="hud-btn" id="soundBtn" aria-label="–ó–≤—É–∫">üîä</button>
          <button class="hud-btn" id="settingsBtn" aria-label="–ù–∞—Å—Ç—Ä–æ–π–∫–∏">‚öô</button>
        </div>
      </div>

      <!-- Title menu -->
      <div class="overlay" id="startOverlay">
        <div class="overlay-card">
          <h1>Snake Codex</h1>
          <div class="menu-list" id="titleMenu">
            <button class="menu-item" data-difficulty="easy">
              <span class="menu-arrow">‚ñ∏</span>
              <span>–õ–µ–≥–∫–æ</span>
              <span class="menu-desc">–°–ø–æ–∫–æ–π–Ω—ã–π —Ç–µ–º–ø</span>
            </button>
            <button class="menu-item active" data-difficulty="medium">
              <span class="menu-arrow">‚ñ∏</span>
              <span>–°—Ä–µ–¥–Ω–µ</span>
              <span class="menu-desc">–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –∏–≥—Ä–∞</span>
            </button>
            <button class="menu-item" data-difficulty="hard">
              <span class="menu-arrow">‚ñ∏</span>
              <span>–°–ª–æ–∂–Ω–æ</span>
              <span class="menu-desc">–î–ª—è –æ–ø—ã—Ç–Ω—ã—Ö</span>
            </button>
          </div>
          <p class="rules">–°–æ–±–∏—Ä–∞–π —è–≥–æ–¥—ã, –∏–∑–±–µ–≥–∞–π —Å—Ç–µ–Ω –∏ —Å–≤–æ–µ–≥–æ —Ö–≤–æ—Å—Ç–∞.<br>–ë–∏—Ä—é–∑–æ–≤—ã–π –∫—Ä–∏—Å—Ç–∞–ª–ª –∑–∞–º–µ–¥–ª—è–µ—Ç –∑–º–µ–π–∫—É.<br>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: —Å—Ç—Ä–µ–ª–∫–∏ / WASD, –ø—Ä–æ–±–µ–ª ‚Äî –ø–∞—É–∑–∞.</p>
          <p class="menu-hint">‚Üë‚Üì –≤—ã–±–æ—Ä ¬∑ Enter —Å—Ç–∞—Ä—Ç</p>
        </div>
      </div>

      <!-- Game Over overlay -->
      <div class="overlay hidden" id="gameOverOverlay">
        <div class="overlay-card">
          <h2>–ò–≥—Ä–∞ –æ–∫–æ–Ω—á–µ–Ω–∞</h2>
          <p class="final-score">–°—á—ë—Ç: <span id="finalScore">0</span></p>
          <div class="menu-list" id="gameOverMenu">
            <button class="menu-item active" data-action="restart">
              <span class="menu-arrow">‚ñ∏</span>
              <span>–ù–æ–≤–∞—è –∏–≥—Ä–∞</span>
            </button>
            <button class="menu-item" data-action="mainmenu">
              <span class="menu-arrow">‚ñ∏</span>
              <span>–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é</span>
            </button>
          </div>
          <p class="menu-hint">‚Üë‚Üì –≤—ã–±–æ—Ä ¬∑ Enter</p>
        </div>
      </div>

      <!-- Pause overlay -->
      <div class="overlay hidden" id="pauseOverlay">
        <div class="overlay-card">
          <h2>–ü–∞—É–∑–∞</h2>
          <div class="menu-list" id="pauseMenu">
            <button class="menu-item active" data-action="resume">
              <span class="menu-arrow">‚ñ∏</span>
              <span>–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å</span>
            </button>
            <button class="menu-item" data-action="mainmenu">
              <span class="menu-arrow">‚ñ∏</span>
              <span>–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é</span>
            </button>
          </div>
          <p class="menu-hint">‚Üë‚Üì ¬∑ Enter ¬∑ –ü—Ä–æ–±–µ–ª</p>
        </div>
      </div>

      <!-- Settings panel -->
      <div class="settings-panel hidden" id="settingsPanel">
        <div class="settings-title">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</div>
        <label class="settings-row">
          <span>–†–µ–Ω–¥–µ—Ä</span>
          <select id="rendererSelect">
            <option value="webgl">WebGL</option>
            <option value="webgpu">WebGPU</option>
          </select>
        </label>
        <label class="settings-row">
          <span>–ö–∞—á–µ—Å—Ç–≤–æ</span>
          <button class="btn ghost" id="qualityBtn">–í—ã—Å–æ–∫–æ–µ</button>
        </label>
      </div>

      <!-- Touch D-pad ‚Äî hidden on desktop -->
      <div class="touch-controls" aria-label="Touch controls">
        <button class="dpad" data-dir="up" aria-label="–í–≤–µ—Ä—Ö">‚Üë</button>
        <div class="dpad-row">
          <button class="dpad" data-dir="left" aria-label="–í–ª–µ–≤–æ">‚Üê</button>
          <button class="dpad" data-dir="right" aria-label="–í–ø—Ä–∞–≤–æ">‚Üí</button>
        </div>
        <button class="dpad" data-dir="down" aria-label="–í–Ω–∏–∑">‚Üì</button>
      </div>
    </div>

    <script type="module" src="./main.js"></script>
  </body>
</html>
